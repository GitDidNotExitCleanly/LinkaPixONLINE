<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="https://code.cs.nott.ac.uk/media/idf/css/yui.css" />
  <link rel="stylesheet" type="text/css" href="https://code.cs.nott.ac.uk/media/idf/css/style.css" />
  <!--[if lt IE 7]>
  <link rel="stylesheet" type="text/css" href="https://code.cs.nott.ac.uk/media/idf/css/ie6.css" />
  <![endif]-->
  <link rel="stylesheet" type="text/css" href="https://code.cs.nott.ac.uk/media/idf/css/prettify.css" />
  <title>ImageTest/BlackWhite.html - gp13-jaa Svn Source Tree - A number puzzle generator capable of creating Link-a-Pix puzzles with unique solutions, solvable by a single player.</title>
</head>
<body>
<div id="doc3" class="yui-t1">
  <div id="hd">
<h1 class="project-title">gp13-jaa</h1>
    <p class="top"><a href="#title" accesskey="2"></a>
Welcome, <strong><a class="userw" href="/dashboard/">Thomas Mees</a></strong>. <a href="/logout/">Sign Out</a>
 | <a href="/">Project List</a>

| <a href="/help/" title="Help and accessibility features">Help</a>
    </p>
<div id="header">
<div id="main-tabs">

  <a accesskey="1" href="/p/gp13-jaa/">Project Home</a> 
  <a href="/p/gp13-jaa/downloads/">Downloads</a> 
  <a href="/p/gp13-jaa/doc/">Documentation</a> 
 <a href="/p/gp13-jaa/issues/">Issues</a>
 <a href="/p/gp13-jaa/source/tree/HEAD/" class="active">Source</a>
 <a href="/p/gp13-jaa/review/">Code Review</a>

  <a href="/p/gp13-jaa/admin/">Project Management</a>
</div>


<div id="sub-tabs">
<a class="active" href="/p/gp13-jaa/source/tree/HEAD/">Source Tree</a> |
<a href="/p/gp13-jaa/source/changes/HEAD/">Change Log</a>
 |
<a href="/p/gp13-jaa/source/help/">How To Get The Code</a>
</div>

</div>

	  <h1 class="title" id="title">gp13-jaa Svn Source Tree</h1>

  </div>
  <div id="bd">
    <div id="yui-main"> 
      <div class="yui-b">
	<div class="yui-g"> 
          
	  <div class="content">
<h2 class="top"><a href="/p/gp13-jaa/source/tree/HEAD/">Root</a><span class="sep">/</span><span class="breadcrumb"><a href="/p/gp13-jaa/source/tree/HEAD/ImageTest">ImageTest</a><span class="sep">/</span><a href="/p/gp13-jaa/source/tree/HEAD/ImageTest/BlackWhite.html">BlackWhite.html</a></span></h2>

<table class="code" summary=" ">

   
  <tfoot>
    
    
    <tr><th colspan="2">Source at commit <a class="mono" href="/p/gp13-jaa/source/commit/HEAD/">HEAD</a> created 8 days 20 hours  ago.<br />
        <span class="smaller">By hxw03u, Code for converting colour images</span>
    </th></tr>
    
  </tfoot>
  
<tbody>
<tr class="c-line"><td class="code-lc" id="L1"><a href="#L1">1</a></td><td class="code mono prettyprint">&lt;!DOCTYPE html&gt;</td></tr>
<tr class="c-line"><td class="code-lc" id="L2"><a href="#L2">2</a></td><td class="code mono prettyprint">&lt;html&gt;</td></tr>
<tr class="c-line"><td class="code-lc" id="L3"><a href="#L3">3</a></td><td class="code mono prettyprint">&lt;body&gt;</td></tr>
<tr class="c-line"><td class="code-lc" id="L4"><a href="#L4">4</a></td><td class="code mono prettyprint"></td></tr>
<tr class="c-line"><td class="code-lc" id="L5"><a href="#L5">5</a></td><td class="code mono prettyprint"></td></tr>
<tr class="c-line"><td class="code-lc" id="L6"><a href="#L6">6</a></td><td class="code mono prettyprint"></td></tr>
<tr class="c-line"><td class="code-lc" id="L7"><a href="#L7">7</a></td><td class="code mono prettyprint">&lt;canvas id=&quot;myCanvas&quot; width=&quot;576&quot; height=&quot;432&quot;&gt;&lt;/canvas&gt;</td></tr>
<tr class="c-line"><td class="code-lc" id="L8"><a href="#L8">8</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&lt;script&gt;</td></tr>
<tr class="c-line"><td class="code-lc" id="L9"><a href="#L9">9</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var canvas = document.getElementById('myCanvas');</td></tr>
<tr class="c-line"><td class="code-lc" id="L10"><a href="#L10">10</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var ctx = canvas.getContext('2d');</td></tr>
<tr class="c-line"><td class="code-lc" id="L11"><a href="#L11">11</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var imageObj = new Image();</td></tr>
<tr class="c-line"><td class="code-lc" id="L12"><a href="#L12">12</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imageObj.src = 'test.jpg';</td></tr>
<tr class="c-line"><td class="code-lc" id="L13"><a href="#L13">13</a></td><td class="code mono prettyprint"></td></tr>
<tr class="c-line"><td class="code-lc" id="L14"><a href="#L14">14</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imageObj.onload = function() {</td></tr>
<tr class="c-line"><td class="code-lc" id="L15"><a href="#L15">15</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctx.drawImage(imageObj, 0, 0);</td></tr>
<tr class="c-line"><td class="code-lc" id="L16"><a href="#L16">16</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr class="c-line"><td class="code-lc" id="L17"><a href="#L17">17</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var width = 10; // User specified</td></tr>
<tr class="c-line"><td class="code-lc" id="L18"><a href="#L18">18</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var height = 7; // User specified</td></tr>
<tr class="c-line"><td class="code-lc" id="L19"><a href="#L19">19</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr class="c-line"><td class="code-lc" id="L20"><a href="#L20">20</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var blockWidth = Math.round(canvas.width / width);</td></tr>
<tr class="c-line"><td class="code-lc" id="L21"><a href="#L21">21</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var blockHeight = Math.round(canvas.height / height);</td></tr>
<tr class="c-line"><td class="code-lc" id="L22"><a href="#L22">22</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr class="c-line"><td class="code-lc" id="L23"><a href="#L23">23</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var pixArray = new Array(height);</td></tr>
<tr class="c-line"><td class="code-lc" id="L24"><a href="#L24">24</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (var m = 0; m &lt; pixArray.length; m++) {</td></tr>
<tr class="c-line"><td class="code-lc" id="L25"><a href="#L25">25</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixArray[m] = new Array(width);</td></tr>
<tr class="c-line"><td class="code-lc" id="L26"><a href="#L26">26</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr class="c-line"><td class="code-lc" id="L27"><a href="#L27">27</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr class="c-line"><td class="code-lc" id="L28"><a href="#L28">28</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var white = [255, 255, 255];</td></tr>
<tr class="c-line"><td class="code-lc" id="L29"><a href="#L29">29</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var black = [0, 0, 0];</td></tr>
<tr class="c-line"><td class="code-lc" id="L30"><a href="#L30">30</a></td><td class="code mono prettyprint"></td></tr>
<tr class="c-line"><td class="code-lc" id="L31"><a href="#L31">31</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (i = 0; i &lt; height; i++) {</td></tr>
<tr class="c-line"><td class="code-lc" id="L32"><a href="#L32">32</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (j = 0; j &lt; width; j++) {</td></tr>
<tr class="c-line"><td class="code-lc" id="L33"><a href="#L33">33</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var imgData = ctx.getImageData(j * blockWidth + blockWidth / 2, i * blockHeight + blockHeight / 2, 1, 1);</td></tr>
<tr class="c-line"><td class="code-lc" id="L34"><a href="#L34">34</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr class="c-line"><td class="code-lc" id="L35"><a href="#L35">35</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disWhite = (white[0] - imgData.data[0]) + (white[1] - imgData.data[1]) + (white[2] - imgData.data[2]);</td></tr>
<tr class="c-line"><td class="code-lc" id="L36"><a href="#L36">36</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disBlack = (imgData.data[0] - black[0]) + (imgData.data[1] - black[1]) + (imgData.data[2] - black[2]);</td></tr>
<tr class="c-line"><td class="code-lc" id="L37"><a href="#L37">37</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (disWhite &lt; 10) {</td></tr>
<tr class="c-line"><td class="code-lc" id="L38"><a href="#L38">38</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixArray[i][j] = 0;</td></tr>
<tr class="c-line"><td class="code-lc" id="L39"><a href="#L39">39</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else if (disBlack &lt; 10) {</td></tr>
<tr class="c-line"><td class="code-lc" id="L40"><a href="#L40">40</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixArray[i][j] = 1;</td></tr>
<tr class="c-line"><td class="code-lc" id="L41"><a href="#L41">41</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr class="c-line"><td class="code-lc" id="L42"><a href="#L42">42</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixArray[i][j] = 2;</td></tr>
<tr class="c-line"><td class="code-lc" id="L43"><a href="#L43">43</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr class="c-line"><td class="code-lc" id="L44"><a href="#L44">44</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr class="c-line"><td class="code-lc" id="L45"><a href="#L45">45</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr class="c-line"><td class="code-lc" id="L46"><a href="#L46">46</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(pixArray);</td></tr>
<tr class="c-line"><td class="code-lc" id="L47"><a href="#L47">47</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr class="c-line"><td class="code-lc" id="L48"><a href="#L48">48</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr class="c-line"><td class="code-lc" id="L49"><a href="#L49">49</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr class="c-line"><td class="code-lc" id="L50"><a href="#L50">50</a></td><td class="code mono prettyprint"></td></tr>
<tr class="c-line"><td class="code-lc" id="L51"><a href="#L51">51</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr class="c-line"><td class="code-lc" id="L52"><a href="#L52">52</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr class="c-line"><td class="code-lc" id="L53"><a href="#L53">53</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr class="c-line"><td class="code-lc" id="L54"><a href="#L54">54</a></td><td class="code mono prettyprint">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/script&gt;</td></tr>
<tr class="c-line"><td class="code-lc" id="L55"><a href="#L55">55</a></td><td class="code mono prettyprint">&lt;/body&gt;</td></tr>
<tr class="c-line"><td class="code-lc" id="L56"><a href="#L56">56</a></td><td class="code mono prettyprint">&lt;/html&gt;</td></tr>
</tbody>
</table>

<p class="right soft"><a href="/p/gp13-jaa/source/file/HEAD/ImageTest/BlackWhite.html"><img style="vertical-align: text-bottom;" src="https://code.cs.nott.ac.uk/media/idf/img/package-grey.png" alt="Archive" align="bottom" /></a> <a href="/p/gp13-jaa/source/file/HEAD/ImageTest/BlackWhite.html">Download this file</a></p>

</div>
	</div>
      </div>
    </div>
    <div class="yui-b context">
<form class="star" action="/p/gp13-jaa/source/treerev/" method="get">
<p><strong>Revision:</strong> HEAD</p>
<p>
    <input accesskey="4" type="text" value="HEAD" name="rev" size="5" />
    <input type="hidden" name="sourcefile" value="BlackWhite.html"/>
    <input type="submit" name="s" value="Go to revision" /></p>
  </form>
</div>
  </div>
  <div id="ft"></div>
</div>
<script type="text/javascript" src="https://code.cs.nott.ac.uk/media/idf/js/jquery-1.2.6.min.js"></script>
<script type="text/javascript" src="https://code.cs.nott.ac.uk/media/idf/js/jquery.hotkeys.js"></script>
<script type="text/javascript" charset="utf-8">
// <!--
jQuery.hotkeys.add('Shift+h',{disableInInput: true},function (){window.location.href='/help/';});

jQuery.hotkeys.add('Shift+u',{disableInInput: true},function (){window.location.href='/p/gp13-jaa/timeline/';});
jQuery.hotkeys.add('Shift+a',{disableInInput: true},function (){window.location.href='/p/gp13-jaa/issues/create/';});
jQuery.hotkeys.add('Shift+i',{disableInInput: true},function (){window.location.href='/p/gp13-jaa/issues/';});
jQuery.hotkeys.add('Shift+d',{disableInInput: true},function (){window.location.href='/p/gp13-jaa/downloads/';});
jQuery.hotkeys.add('Shift+o',{disableInInput: true},function (){window.location.href='/p/gp13-jaa/doc/';});
jQuery.hotkeys.add('Shift+s',{disableInInput: true},function (){window.location.href='/p/gp13-jaa/source/tree/HEAD/';});

jQuery.hotkeys.add('Shift+m',{disableInInput: true},function (){window.location.href='/p/gp13-jaa/issues/my/submit/';});
jQuery.hotkeys.add('Shift+w',{disableInInput: true},function (){window.location.href='/p/gp13-jaa/issues/my/owner/';});
 //-->
</script>



<script type="text/javascript" src="https://code.cs.nott.ac.uk/media/idf/js/prettify.js"></script>
<script type="text/javascript">prettyPrint();</script>


<script type="text/javascript" charset="utf-8">
//<![CDATA[
$(document).ready(function(){
	var frag = location.hash;
	if ($('#preview').length) {
		location.hash = '#preview';
	}
	else if (frag.length > 3 && frag.substring(0, 3) == '#ic') {
		$(frag).addClass("issue-comment-focus");
	}
});
//]]>
</script>
</body>
</html>
